(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{386:function(t,s,n){"use strict";n.r(s);var a=n(8),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("在当今企业级 DevOps 平台建设中，随着系统数量的不断增加、权限模型的日益复杂，"),s("strong",[t._v("统一身份认证")]),t._v("与"),s("strong",[t._v("集中权限管理")]),t._v("已成为基础设施建设的关键环节。为此，LDAP 与 CAS 成为支撑企业统一认证体系的核心组件：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("LDAP（Lightweight Directory Access Protocol）")]),t._v(" 是一种轻量级目录访问协议，常用于存储和管理组织结构、用户账户、密码、用户组等信息，是统一用户目录的基础。")]),t._v(" "),s("li",[s("strong",[t._v("CAS（Central Authentication Service）")]),t._v(" 是一个开源的单点登录（SSO）协议，允许用户登录一次，即可访问多个系统，有效提升了用户体验并增强了安全性。")])]),t._v(" "),s("p",[t._v("在 DevOps 实践中，越来越多的工具开始支持 LDAP 和 CAS，以实现统一认证（Authentication）与统一授权（Authorization）的目标。借助这些能力，团队可以大大简化用户管理流程，实现账号在 GitLab、Jenkins、Nexus、Jira、Harbor 等多个系统之间的统一登录和权限继承。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"一、devops-各服务对-ldap-cas-支持情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、devops-各服务对-ldap-cas-支持情况"}},[t._v("#")]),t._v(" 一、DevOps 各服务对 LDAP / CAS 支持情况")]),t._v(" "),s("p",[t._v("为了帮助大家快速了解当前常见 DevOps 工具对 LDAP 和 CAS 的兼容情况，以下整理了一张支持矩阵表：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("服务名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("支持 LDAP")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("支持 CAS")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("GitLab")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅（需配置 OmniAuth）")]),t._v(" "),s("td",[t._v("原生支持 LDAP 用户同步与登录，支持通过 OmniAuth 接入 CAS 实现单点登录")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Jenkins")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅（需插件）")]),t._v(" "),s("td",[t._v("通过 LDAP 插件接入用户目录服务，通过 CAS 插件实现 SSO 认证")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Nexus")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),s("td",[t._v("提供完善的 LDAP 集成功能，但不支持 CAS 单点登录（可通过反向代理变通实现）")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Jira")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅（间接支持）")]),t._v(" "),s("td",[t._v("通过 LDAP 进行用户登录；CAS 支持依赖于第三方 SSO 插件或使用 Apache/Nginx 网关")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Confluence")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅（通过 OAuth2 / CAS）")]),t._v(" "),s("td",[t._v("同 Jira，可通过 SAML/CAS 插件实现 CAS 登录")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Harbor")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("✅（借助 OIDC/CAS 网关）")]),t._v(" "),s("td",[t._v("原生支持 LDAP，CAS 登录通常需借助 OAuth2 或 OIDC 网关，如 Keycloak/Authelia 等实现")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("💡 "),s("strong",[t._v("最佳实践建议：")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("统一身份信息管理")]),t._v("：将 LDAP 作为企业统一的身份数据源，所有服务均从 LDAP 同步用户及组织信息，避免重复维护。")]),t._v(" "),s("li",[s("strong",[t._v("集中认证入口")]),t._v("：以 CAS（或基于 CAS 的 SSO 解决方案）作为统一认证网关，实现所有系统的单点登录，提升用户体验与安全性。")]),t._v(" "),s("li",[s("strong",[t._v("权限管理策略")]),t._v("：建议通过 LDAP 用户组统一管理权限，避免在各系统中重复授权，确保权限继承和同步一致。")]),t._v(" "),s("li",[s("strong",[t._v("安全加固")]),t._v("：\n"),s("ul",[s("li",[t._v("建议使用 LDAPS（LDAP over TLS）保证认证数据安全；")]),t._v(" "),s("li",[t._v("CAS 服务端和客户端均需配置 HTTPS，防止会话劫持。")])])]),t._v(" "),s("li",[s("strong",[t._v("中间网关桥接")]),t._v("：\n"),s("ul",[s("li",[t._v("对于不支持 CAS 的平台，推荐通过 Keycloak、OAuth2 Proxy、Authelia 等网关做协议转换，保障统一认证。")])])]),t._v(" "),s("li",[s("strong",[t._v("自动化与监控")]),t._v("：\n"),s("ul",[s("li",[t._v("配置变更及用户权限同步应通过自动化脚本或配置管理工具执行；")]),t._v(" "),s("li",[t._v("配置集中日志和异常监控，快速定位认证或权限问题。")])])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"二、ldap-用户目录结构设计示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、ldap-用户目录结构设计示例"}},[t._v("#")]),t._v(" 二、LDAP 用户目录结构设计示例")]),t._v(" "),s("p",[t._v("为确保 DevOps 各平台能够高效且规范地对接 LDAP，建议建立清晰、层次分明的 LDAP 目录结构。以下基于测试环境配置示例做详细说明：")]),t._v(" "),s("div",{staticClass:"language-plaintext line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-plaintext"}},[s("code",[t._v("dc=demo,dc=com\n├── ou=users\n│   ├── cs01 (inetOrgPerson)\n│   ├── cs02 (inetOrgPerson)\n│   ├── cs03 (inetOrgPerson)\n│   ├── cs04 (inetOrgPerson)\n│   ├── cs05 (inetOrgPerson)\n│   └── demo (inetOrgPerson)\n├── ou=departments\n│   ├── 研发部 (groupOfNames)\n│   │   ├── cs01\n│   │   └── cs02\n│   ├── 产品部 (groupOfNames)\n│   │   ├── cs03\n│   │   └── cs04\n│   └── 销售部 (groupOfNames)\n│       └── cs05\n└── ou=applications (organizationalUnit)\n    ├── gitlab (organizationalUnit)\n    │   ├── gitlab-admin (groupOfNames) — cs01, cs02\n    │   └── gitlab-user (groupOfNames) — cs03, cs04\n    ├── jira (organizationalUnit)\n    │   ├── jira-administrators (groupOfNames) — demo, cs04, cs05\n    │   └── jira-software-users (groupOfNames) — cs01, cs02\n    └── nexus (organizationalUnit)\n        ├── nx-admin (groupOfNames) — demo, cs01, cs02\n        ├── nx-user-read (groupOfNames) — cs03, cs04\n        └── nx-user-write (groupOfNames) — cs05\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("h4",{attrs:{id:"目录结构说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构说明"}},[t._v("#")]),t._v(" 目录结构说明")]),t._v(" "),s("ul",[s("li",[t._v("ou=users：所有用户信息集中管理，采用 inetOrgPerson 对象类，包含用户基本信息（用户名、邮箱、密码等），是身份认证的基础。")]),t._v(" "),s("li",[t._v("ou=departments：组织架构分组，使用 groupOfNames 对象类，将用户按部门归类，方便按部门权限授权和管理。")]),t._v(" "),s("li",[t._v("ou=applications：针对各业务系统的权限组，按应用划分多个权限组（如管理员组、普通用户组），便于统一映射和授权管理。")])]),t._v(" "),s("h4",{attrs:{id:"设计优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设计优势"}},[t._v("#")]),t._v(" 设计优势")]),t._v(" "),s("ul",[s("li",[t._v("结构清晰，职责分明：区分用户实体、部门组织和应用权限组，易于理解和维护。")]),t._v(" "),s("li",[t._v("权限管理灵活：部门分组支持业务线管理，应用组支持细粒度权限划分，支持多系统统一权限分配。")]),t._v(" "),s("li",[t._v("支持多系统集成：各系统通过 LDAP 用户组映射对应权限，无需重复在各系统维护用户权限。")]),t._v(" "),s("li",[t._v("安全便捷：统一身份数据源保障身份一致性，简化密码和账号管理，支持企业安全策略落地。")])]),t._v(" "),s("h4",{attrs:{id:"后续集成建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后续集成建议"}},[t._v("#")]),t._v(" 后续集成建议")]),t._v(" "),s("ul",[s("li",[t._v("在各 DevOps 平台（如 GitLab、Jenkins、Nexus 等）配置 LDAP 时，务必结合 ou=applications 下的权限组进行访问控制和权限映射。")]),t._v(" "),s("li",[t._v("推荐使用统一的用户唯一标识（如 uid 或邮箱），保证跨系统登录的统一性和兼容性。")]),t._v(" "),s("li",[t._v("结合 CAS 实现单点登录，提高用户体验，减少重复认证负担。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);